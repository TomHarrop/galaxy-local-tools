<tool id="dorado-list-models" name="dorado list-models" version="@CONTAINER_HASH@+galaxy0" python_template_version="3.5" profile="21.05">
    <macros>
        <token name="@CONTAINER_HASH@">c2d8bc91ca2d043fed84d06cca92aaeb62bcc1cd</token>
    </macros>
    <requirements>
        <container type="docker">nanoporetech/dorado:sha@CONTAINER_HASH@</container>
    </requirements>
    <command detect_errors="exit_code"><![CDATA[
    dorado list-models 2>&1 | tee out.txt
    ]]></command>
    <inputs>
    </inputs>
    <outputs>
        <data format="txt" name="out_txt" label="Output from dorado list-models" from_work_dir="out.txt" />
    </outputs>
    <tests>
    <test expect_num_outputs="1">
        <output name="out_txt">
            <assert_contents>
                <has_text text="dna_r9.4.1_e8_sup"/>
            </assert_contents>
        </output>
    </test>
    
    </tests>
    <help><![CDATA[

Just runs ``dorado list-models``. If the container downloads
properly you will see output like this:

.. code:: bash

   /models/dna_r10.4.1_e8.2_260bps_fast@v3.5.2
   /models/dna_r10.4.1_e8.2_260bps_fast@v3.5.2_5mCG@v2
   /models/dna_r10.4.1_e8.2_260bps_hac@v3.5.2
   /models/dna_r10.4.1_e8.2_260bps_hac@v3.5.2_5mCG@v2
   /models/dna_r10.4.1_e8.2_260bps_sup@v3.5.2
   /models/dna_r10.4.1_e8.2_260bps_sup@v3.5.2_5mCG@v2
   /models/dna_r10.4.1_e8.2_400bps_fast@v3.5.2
   /models/dna_r10.4.1_e8.2_400bps_fast@v3.5.2_5mCG@v2
   /models/dna_r10.4.1_e8.2_400bps_hac@v3.5.2
   /models/dna_r10.4.1_e8.2_400bps_hac@v3.5.2_5mCG@v2
   /models/dna_r10.4.1_e8.2_400bps_sup@v3.5.2
   /models/dna_r9.4.1_e8_fast@v3.4
   /models/dna_r9.4.1_e8_fast@v3.4_5mCG@v0
   /models/dna_r9.4.1_e8_hac@v3.3
   /models/dna_r9.4.1_e8_hac@v3.4_5mCG@v0
   /models/dna_r9.4.1_e8_sup@v3.3
   /models/dna_r9.4.1_e8_sup@v3.4_5mCG@v0

    ]]></help>
</tool>