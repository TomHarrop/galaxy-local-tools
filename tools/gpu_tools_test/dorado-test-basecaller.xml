<tool id="dorado_test_basecaller" name="dorado test basecaller" version="@CONTAINER_HASH@+galaxy0" python_template_version="3.5" profile="21.05">
    <macros>
        <token name="@CONTAINER_HASH@">c2d8bc91ca2d043fed84d06cca92aaeb62bcc1cd</token>
    </macros>
    <requirements>
        <container type="docker">nanoporetech/dorado:sha@CONTAINER_HASH@</container>
    </requirements>
    <command detect_errors="exit_code"><![CDATA[
ln -s '$pod5_file' ./reads.pod5 &&

dorado basecaller
--emit-sam
--chunksize 1000
--max-reads 10
"/models/dna_r9.4.1_e8_fast@v3.4"
reads.pod5 
> output.sam
    ]]></command>
    <inputs>
        <param type="data" name="pod5_file" label="Raw fast5 file" format="fast5"/>
    </inputs>
    <outputs>
        <data format="sam" name="out_sam" label="Output from dorado list-models" from_work_dir="output.sam"/>
    </outputs>
    <tests>
        <test expect_num_outputs="1">
            <param name="pod5_file" value="FAL00375_473bf0ed_0.ten_reads.pod5"/>
            <output name="out_sam" file="output.sam">
        </output>
        </test>
    </tests>
    <help><![CDATA[


    ]]></help>
</tool>
